function animateBtn(t){t.style.top="7px",t.style.left="7px",t.style.boxShadow="3px 3px 0px 0px rgba(0,0,0,1)",setTimeout(function(){t.style.top="0px",t.style.left="0px",t.style.boxShadow="10px 10px 0px 0px rgba(0,0,0,1)"},100)}function Operation(t,e,n){switch(this.termOne=t,this.operator=e,this.termTwo=n,this.operator){case"+":this.result=t+n;break;case"-":this.result=t-n;break;case"*":this.result=t*n;break;case"รท":this.result=t/n}}function checkBuff(){null!==operationBuff[3]&&(operationBuff[0]=2)}function updateBuff(){1===operationBuff[0]?operationBuff[1]=parseFloat(inputDisplay.textContent):operationBuff[2]=parseFloat(inputDisplay.textContent)}function updateDisplay(t){displayLine.style.visibility=t>0?"visible":"hidden";var e=myOperations[t];displayTermOne.textContent=e.termOne+" "+e.operator,displayTermTwo.textContent=e.termTwo+" =",displayTermResult.textContent=e.result}for(var key=document.getElementsByClassName("key"),keyDigit=document.getElementsByClassName("key-digit"),keyOperator=document.getElementsByClassName("key-operators"),inputDisplay=document.getElementById("input-display"),keyDot=document.getElementById("key-dot"),keySign=document.getElementById("key-sign"),keyCLR=document.getElementById("key-clr"),keyResult=document.getElementById("key-result"),displayTermOne=document.getElementById("term-one"),displayTermTwo=document.getElementById("term-two"),displayTermResult=document.getElementById("term-result"),scrollTop=document.getElementById("scroll-top"),scrollBottom=document.getElementById("scroll-bottom"),displayLine=document.getElementById("display-line"),operationBuff=[1,0,0,null],myOperations=[],currentDiplay=null,i=0;i<keyDigit.length;i++)keyDigit[i].onclick=function(t){animateBtn(this),checkBuff(),"0"===inputDisplay.textContent?inputDisplay.textContent=this.textContent:inputDisplay.textContent+=this.textContent,"0"!==inputDisplay.textContent&&"-0"!==inputDisplay.textContent&&"0."!==inputDisplay.textContent&&"-0."!==inputDisplay.textContent&&updateBuff()};for(var i=0;i<keyOperator.length;i++)keyOperator[i].onclick=function(t){if(animateBtn(this),"0"===inputDisplay.textContent||"-0"===inputDisplay.textContent||"0."===inputDisplay.textContent||"-0."===inputDisplay.textContent)return void(operationBuff[3]=this.textContent);1===operationBuff[0]?(inputDisplay.textContent="0",operationBuff[3]=this.textContent,operationBuff[0]=2):(myOperations.push(new Operation(operationBuff[1],operationBuff[3],operationBuff[2])),inputDisplay.textContent="0",operationBuff[1]=myOperations[myOperations.length-1].result,operationBuff[2]=0,operationBuff[3]=this.textContent,updateDisplay(myOperations.length-1),currentDiplay=myOperations.length-1)};keyDot.onclick=function(t){animateBtn(this),checkBuff(),inputDisplay.textContent.indexOf(".")===-1&&(inputDisplay.textContent+=this.textContent),updateBuff()},keySign.onclick=function(t){animateBtn(this),checkBuff(),"-"===inputDisplay.textContent[0]?inputDisplay.textContent=inputDisplay.textContent.substr(1):inputDisplay.textContent="-"+inputDisplay.textContent,updateBuff()},keyCLR.onclick=function(t){animateBtn(this),inputDisplay.textContent="0",updateBuff()},keyResult.onclick=function(t){animateBtn(this),2===operationBuff[0]&&"0"!==inputDisplay.textContent&&"-0"!==inputDisplay.textContent&&"0."!==inputDisplay.textContent&&"-0."!==inputDisplay.textContent&&(myOperations.push(new Operation(operationBuff[1],operationBuff[3],operationBuff[2])),operationBuff[0]=1,operationBuff[1]=0,operationBuff[2]=0,operationBuff[3]=null,inputDisplay.textContent="0",currentDiplay=myOperations.length-1,updateDisplay(myOperations.length-1))},scrollTop.onclick=function(t){null!==currentDiplay&&(currentDiplay===myOperations.length-1||updateDisplay(++currentDiplay))},scrollBottom.onclick=function(t){null!==currentDiplay&&(0===currentDiplay||updateDisplay(--currentDiplay))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYW5pbWF0ZUJ0biIsImJ0biIsInN0eWxlIiwidG9wIiwibGVmdCIsImJveFNoYWRvdyIsInNldFRpbWVvdXQiLCJPcGVyYXRpb24iLCJ0ZXJtT25lIiwib3BlcmF0b3IiLCJ0ZXJtVHdvIiwidGhpcyIsInJlc3VsdCIsImNoZWNrQnVmZiIsIm9wZXJhdGlvbkJ1ZmYiLCJ1cGRhdGVCdWZmIiwicGFyc2VGbG9hdCIsImlucHV0RGlzcGxheSIsInRleHRDb250ZW50IiwidXBkYXRlRGlzcGxheSIsImluZGV4IiwiZGlzcGxheUxpbmUiLCJ2aXNpYmlsaXR5Iiwib3BlcmF0aW9uIiwibXlPcGVyYXRpb25zIiwiZGlzcGxheVRlcm1PbmUiLCJkaXNwbGF5VGVybVR3byIsImRpc3BsYXlUZXJtUmVzdWx0Iiwia2V5IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwia2V5RGlnaXQiLCJrZXlPcGVyYXRvciIsImdldEVsZW1lbnRCeUlkIiwia2V5RG90Iiwia2V5U2lnbiIsImtleUNMUiIsImtleVJlc3VsdCIsInNjcm9sbFRvcCIsInNjcm9sbEJvdHRvbSIsImN1cnJlbnREaXBsYXkiLCJpIiwibGVuZ3RoIiwib25jbGljayIsImUiLCJwdXNoIiwiaW5kZXhPZiIsInN1YnN0ciJdLCJtYXBwaW5ncyI6IkFBdUdBLFFBQUFBLFlBQUFDLEdBQ0FBLEVBQUFDLE1BQUFDLElBQUEsTUFDQUYsRUFBQUMsTUFBQUUsS0FBQSxNQUNBSCxFQUFBQyxNQUFBRyxVQUFBLGdDQUNBQyxXQUFBLFdBQ0FMLEVBQUFDLE1BQUFDLElBQUEsTUFDQUYsRUFBQUMsTUFBQUUsS0FBQSxNQUNBSCxFQUFBQyxNQUFBRyxVQUFBLG1DQUNBLEtBR0EsUUFBQUUsV0FBQUMsRUFBQUMsRUFBQUMsR0FLQSxPQUpBQyxLQUFBSCxRQUFBQSxFQUNBRyxLQUFBRixTQUFBQSxFQUNBRSxLQUFBRCxRQUFBQSxFQUVBQyxLQUFBRixVQUNBLElBQUEs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LE1BQ0FNLGFBQUFDLFlBQUEsSUFDQUgsY0FHQXNCLFVBQUFNLFFBQUEsU0FBQUMsR0FDQTVDLFdBQUFXLE1BQ0EsSUFBQUcsY0FBQSxJQUFBLE1BQUFHLGFBQUFDLGFBQUEsT0FBQUQsYUFBQUMsYUFBQSxPQUFBRCxhQUFBQyxhQUFBLFFBQUFELGFBQUFDLGNBQ0FNLGFBQUFxQixLQUFBLEdBQUF0QyxXQUFBTyxjQUFBLEdBQUFBLGNBQUEsR0FBQUEsY0FBQSxLQUNBQSxjQUFBLEdBQUEsRUFDQUEsY0FBQSxHQUFBLEVBQ0FBLGNBQUEsR0FBQSxFQUNBQSxjQUFBLEdBQUEsS0FDQUcsYUFBQUMsWUFBQSxJQUNBc0IsY0FBQWhCLGFBQUFrQixPQUFBLEVBQ0F2QixjQUFBSyxhQUFBa0IsT0FBQSxLQUlBSixVQUFBSyxRQUFBLFNBQUFDLEdBQ0EsT0FBQUosZ0JBR0FBLGdCQUFBaEIsYUFBQWtCLE9BQUEsR0FBQXZCLGdCQUFBcUIsaUJBSUFELGFBQUFJLFFBQUEsU0FBQUMsR0FDQSxPQUFBSixnQkFHQSxJQUFBQSxlQUFBckIsZ0JBQUFxQiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIga2V5ICAgICAgICAgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwia2V5XCIpO1xudmFyIGtleURpZ2l0ICAgICAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImtleS1kaWdpdFwiKTtcbnZhciBrZXlPcGVyYXRvciAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJrZXktb3BlcmF0b3JzXCIpO1xudmFyIGlucHV0RGlzcGxheSAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1kaXNwbGF5XCIpO1xudmFyIGtleURvdCAgICAgICAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJrZXktZG90XCIpO1xudmFyIGtleVNpZ24gICAgICAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJrZXktc2lnblwiKTtcbnZhciBrZXlDTFIgICAgICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwia2V5LWNsclwiKTtcbnZhciBrZXlSZXN1bHQgICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwia2V5LXJlc3VsdFwiKTtcbnZhciBkaXNwbGF5VGVybU9uZSAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGVybS1vbmVcIik7XG52YXIgZGlzcGxheVRlcm1Ud28gICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRlcm0tdHdvXCIpO1xudmFyIGRpc3BsYXlUZXJtUmVzdWx0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXJtLXJlc3VsdFwiKTtcbnZhciBzY3JvbGxUb3AgICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2Nyb2xsLXRvcFwiKTtcbnZhciBzY3JvbGxCb3R0b20gICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2Nyb2xsLWJvdHRvbVwiKTtcbnZhciBkaXNwbGF5TGluZSAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGlzcGxheS1saW5lXCIpO1xudmFyIG9wZXJhdGlvbkJ1ZmYgICAgID0gWzEsIDAsIDAsIG51bGxdOyAvLyBbdGVybSBudW1iZXI6IGZpcnN0KDEpIG9yIHNlY29uZCgyKSwgZmlyc3QgdGVybSB2YWx1ZSwgc2Vjb25kIHRlcm0gdmFsdWUsIHNpZ25dXG52YXIgbXlPcGVyYXRpb25zICAgICAgPSBbXTtcbnZhciBjdXJyZW50RGlwbGF5ICAgICA9IG51bGw7XG5cbmZvciAodmFyIGkgPSAwOyBpIDwga2V5RGlnaXQubGVuZ3RoOyBpKyspIHtcbiAga2V5RGlnaXRbaV0ub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgICBhbmltYXRlQnRuKHRoaXMpO1xuICAgIGNoZWNrQnVmZigpO1xuICAgIGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9PT0gJzAnID8gaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID0gdGhpcy50ZXh0Q29udGVudCA6IGlucHV0RGlzcGxheS50ZXh0Q29udGVudCArPSB0aGlzLnRleHRDb250ZW50O1xuICAgIGlmIChpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgIT09ICcwJyAmJiBpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgIT09ICctMCcgJiYgaW5wdXREaXNwbGF5LnRleHRDb250ZW50ICE9PSAnMC4nICYmIGlucHV0RGlzcGxheS50ZXh0Q29udGVudCAhPT0gJy0wLicpIHtcbiAgICAgIHVwZGF0ZUJ1ZmYoKTtcbiAgICB9XG4gIH07XG59XG5cbmZvciAodmFyIGkgPSAwOyBpIDwga2V5T3BlcmF0b3IubGVuZ3RoOyBpKyspIHtcbiAga2V5T3BlcmF0b3JbaV0ub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgICBhbmltYXRlQnRuKHRoaXMpO1xuICAgIGlmKGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9PT0gJzAnIHx8IGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9PT0gJy0wJyB8fCBpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgPT09ICcwLicgfHwgaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID09PSAnLTAuJykge1xuICAgICAgb3BlcmF0aW9uQnVmZlszXSA9IHRoaXMudGV4dENvbnRlbnQ7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYob3BlcmF0aW9uQnVmZlswXSA9PT0gMSkge1xuICAgICAgICAgIGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9ICcwJztcbiAgICAgICAgICBvcGVyYXRpb25CdWZmWzNdICAgICAgICAgPSB0aGlzLnRleHRDb250ZW50O1xuICAgICAgICAgIG9wZXJhdGlvbkJ1ZmZbMF0gICAgICAgICA9IDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBteU9wZXJhdGlvbnMucHVzaChuZXcgT3BlcmF0aW9uKG9wZXJhdGlvbkJ1ZmZbMV0sIG9wZXJhdGlvbkJ1ZmZbM10sIG9wZXJhdGlvbkJ1ZmZbMl0pKTtcbiAgICAgICAgICAgIGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9ICcwJztcbiAgICAgICAgICAgIG9wZXJhdGlvbkJ1ZmZbMV0gICAgICAgICA9IG15T3BlcmF0aW9uc1tteU9wZXJhdGlvbnMubGVuZ3RoIC0gMV0ucmVzdWx0O1xuICAgICAgICAgICAgb3BlcmF0aW9uQnVmZlsyXSAgICAgICAgID0gMDtcbiAgICAgICAgICAgIG9wZXJhdGlvbkJ1ZmZbM10gICAgICAgICA9IHRoaXMudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICB1cGRhdGVEaXNwbGF5KG15T3BlcmF0aW9ucy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGN1cnJlbnREaXBsYXkgPSBteU9wZXJhdGlvbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxua2V5RG90Lm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gIGFuaW1hdGVCdG4odGhpcyk7XG4gIGNoZWNrQnVmZigpO1xuICBpbnB1dERpc3BsYXkudGV4dENvbnRlbnQuaW5kZXhPZignLicpID09PSAtMSA/IGlucHV0RGlzcGxheS50ZXh0Q29udGVudCArPSB0aGlzLnRleHRDb250ZW50IDogJyc7XG4gIHVwZGF0ZUJ1ZmYoKTtcbn07XG5cbmtleVNpZ24ub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgYW5pbWF0ZUJ0bih0aGlzKTtcbiAgY2hlY2tCdWZmKCk7XG4gIGlucHV0RGlzcGxheS50ZXh0Q29udGVudFswXSA9PT0gJy0nID8gaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID0gaW5wdXREaXNwbGF5LnRleHRDb250ZW50LnN1YnN0cigxKSA6IGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9ICctJyArIGlucHV0RGlzcGxheS50ZXh0Q29udGVudDtcbiAgdXBkYXRlQnVmZigpO1xufTtcblxua2V5Q0xSLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gIGFuaW1hdGVCdG4odGhpcyk7XG4gIGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9ICcwJztcbiAgdXBkYXRlQnVmZigpO1xufTsgLy8gVE9ETzogcmVzZXQgYnVmZlxuXG5rZXlSZXN1bHQub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgYW5pbWF0ZUJ0bih0aGlzKTtcbiAgaWYob3BlcmF0aW9uQnVmZlswXSA9PT0gMiAmJiAhKGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9PT0gJzAnIHx8IGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9PT0gJy0wJyB8fCBpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgPT09ICcwLicgfHwgaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID09PSAnLTAuJykpIHtcbiAgICBteU9wZXJhdGlvbnMucHVzaChuZXcgT3BlcmF0aW9uKG9wZXJhdGlvbkJ1ZmZbMV0sIG9wZXJhdGlvbkJ1ZmZbM10sIG9wZXJhdGlvbkJ1ZmZbMl0pKTtcbiAgICBvcGVyYXRpb25CdWZmWzBdID0gMTtcbiAgICBvcGVyYXRpb25CdWZmWzFdID0gMDtcbiAgICBvcGVyYXRpb25CdWZmWzJdID0gMDtcbiAgICBvcGVyYXRpb25CdWZmWzNdID0gbnVsbDtcbiAgICBpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgPSAnMCc7XG4gICAgY3VycmVudERpcGxheSA9IG15T3BlcmF0aW9ucy5sZW5ndGggLSAxO1xuICAgIHVwZGF0ZURpc3BsYXkobXlPcGVyYXRpb25zLmxlbmd0aCAtIDEpO1xuICB9XG59O1xuXG5zY3JvbGxUb3Aub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGN1cnJlbnREaXBsYXkgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudERpcGxheSA9PT0gbXlPcGVyYXRpb25zLmxlbmd0aCAtIDEgPyAnJyA6IHVwZGF0ZURpc3BsYXkoKytjdXJyZW50RGlwbGF5KTtcbiAgfVxufTtcblxuc2Nyb2xsQm90dG9tLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChjdXJyZW50RGlwbGF5ID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnREaXBsYXkgPT09IDAgPyAnJyA6IHVwZGF0ZURpc3BsYXkoLS1jdXJyZW50RGlwbGF5KTtcbiAgfVxufTtcblxuZnVuY3Rpb24gYW5pbWF0ZUJ0bihidG4pIHtcbiAgYnRuLnN0eWxlLnRvcCAgICAgICA9IFwiN3B4XCI7XG4gIGJ0bi5zdHlsZS5sZWZ0ICAgICAgPSBcIjdweFwiO1xuICBidG4uc3R5bGUuYm94U2hhZG93ID0gXCIzcHggM3B4IDBweCAwcHggcmdiYSgwLDAsMCwxKVwiO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGJ0bi5zdHlsZS50b3AgICAgICAgPSBcIjBweFwiO1xuICAgIGJ0bi5zdHlsZS5sZWZ0ICAgICAgPSBcIjBweFwiO1xuICAgIGJ0bi5zdHlsZS5ib3hTaGFkb3cgPSBcIjEwcHggMTBweCAwcHggMHB4IHJnYmEoMCwwLDAsMSlcIjtcbiAgfSwgMTAwKTtcbn1cblxuZnVuY3Rpb24gT3BlcmF0aW9uKHRlcm1PbmUsIG9wZXJhdG9yLCB0ZXJtVHdvKSB7XG4gIHRoaXMudGVybU9uZSAgPSB0ZXJtT25lO1xuICB0aGlzLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gIHRoaXMudGVybVR3byAgPSB0ZXJtVHdvO1xuXG4gIHN3aXRjaCh0aGlzLm9wZXJhdG9yKSB7XG4gICAgY2FzZSAnKyc6XG4gICAgICB0aGlzLnJlc3VsdCA9IHRlcm1PbmUgKyB0ZXJtVHdvO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnLSc6XG4gICAgICB0aGlzLnJlc3VsdCA9IHRlcm1PbmUgLSB0ZXJtVHdvO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnKic6XG4gICAgICB0aGlzLnJlc3VsdCA9IHRlcm1PbmUgKiB0ZXJtVHdvO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnw7cnOlxuICAgICAgdGhpcy5yZXN1bHQgPSB0ZXJtT25lIC8gdGVybVR3bztcbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrQnVmZigpIHtcbiAgaWYgKG9wZXJhdGlvbkJ1ZmZbM10gIT09IG51bGwpIHtcbiAgICBvcGVyYXRpb25CdWZmWzBdID0gMjtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVCdWZmKCl7XG4gIG9wZXJhdGlvbkJ1ZmZbMF0gPT09IDEgPyBvcGVyYXRpb25CdWZmWzFdID0gcGFyc2VGbG9hdChpbnB1dERpc3BsYXkudGV4dENvbnRlbnQpIDogb3BlcmF0aW9uQnVmZlsyXSA9IHBhcnNlRmxvYXQoaW5wdXREaXNwbGF5LnRleHRDb250ZW50KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRGlzcGxheShpbmRleCkge1xuICBpZiAoaW5kZXggPiAwKSB7XG4gICAgZGlzcGxheUxpbmUuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICB9IGVsc2Uge1xuICAgIGRpc3BsYXlMaW5lLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICB9XG4gIHZhciBvcGVyYXRpb24gPSBteU9wZXJhdGlvbnNbaW5kZXhdO1xuICBkaXNwbGF5VGVybU9uZS50ZXh0Q29udGVudCA9IG9wZXJhdGlvbi50ZXJtT25lICsgXCIgXCIgKyBvcGVyYXRpb24ub3BlcmF0b3I7XG4gIGRpc3BsYXlUZXJtVHdvLnRleHRDb250ZW50ID0gb3BlcmF0aW9uLnRlcm1Ud28gKyBcIiA9XCI7XG4gIGRpc3BsYXlUZXJtUmVzdWx0LnRleHRDb250ZW50ID0gb3BlcmF0aW9uLnJlc3VsdDtcbn1cbiJdfQ==
