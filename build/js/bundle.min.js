function animateBtn(t){t.style.top="7px",t.style.left="7px",t.style.boxShadow="3px 3px 0px 0px rgba(0,0,0,1)",setTimeout(function(){t.style.top="0px",t.style.left="0px",t.style.boxShadow="10px 10px 0px 0px rgba(0,0,0,1)"},100)}function Operation(t,e,n){switch(this.termOne=t,this.operator=e,this.termTwo=n,this.operator){case"+":this.result=t+n;break;case"-":this.result=t-n;break;case"*":this.result=t*n;break;case"รท":this.result=t/n}}function checkBuff(){null!==operationBuff[3]&&(operationBuff[0]=2)}function updateBuff(){1===operationBuff[0]?operationBuff[1]=parseFloat(inputDisplay.textContent):operationBuff[2]=parseFloat(inputDisplay.textContent)}function updateDisplay(t){var e=myOperations[t];displayTermOne.textContent=e.termOne+" "+e.operator,displayTermTwo.textContent=e.termTwo+" =",displayTermResult.textContent=e.result}for(var key=document.getElementsByClassName("key"),keyDigit=document.getElementsByClassName("key-digit"),keyOperator=document.getElementsByClassName("key-operators"),inputDisplay=document.getElementById("input-display"),keyDot=document.getElementById("key-dot"),keySign=document.getElementById("key-sign"),keyCLR=document.getElementById("key-clr"),keyResult=document.getElementById("key-result"),displayTermOne=document.getElementById("term-one"),displayTermTwo=document.getElementById("term-two"),displayTermResult=document.getElementById("term-result"),scrollTop=document.getElementById("scroll-top"),scrollBottom=document.getElementById("scroll-bottom"),operationBuff=[1,0,0,null],myOperations=[],currentDiplay=null,i=0;i<keyDigit.length;i++)keyDigit[i].onclick=function(t){animateBtn(this),checkBuff(),"0"===inputDisplay.textContent?inputDisplay.textContent=this.textContent:inputDisplay.textContent+=this.textContent,"0"!==inputDisplay.textContent&&"-0"!==inputDisplay.textContent&&"0."!==inputDisplay.textContent&&"-0."!==inputDisplay.textContent&&updateBuff()};for(var i=0;i<keyOperator.length;i++)keyOperator[i].onclick=function(t){if(animateBtn(this),"0"===inputDisplay.textContent||"-0"===inputDisplay.textContent||"0."===inputDisplay.textContent||"-0."===inputDisplay.textContent)return void(operationBuff[3]=this.textContent);1===operationBuff[0]?(inputDisplay.textContent="0",operationBuff[3]=this.textContent,operationBuff[0]=2):(myOperations.push(new Operation(operationBuff[1],operationBuff[3],operationBuff[2])),inputDisplay.textContent="0",operationBuff[1]=myOperations[myOperations.length-1].result,operationBuff[2]=0,operationBuff[3]=this.textContent,updateDisplay(myOperations.length-1),currentDiplay=myOperations.length-1)};keyDot.onclick=function(t){animateBtn(this),checkBuff(),inputDisplay.textContent.indexOf(".")===-1&&(inputDisplay.textContent+=this.textContent),updateBuff()},keySign.onclick=function(t){animateBtn(this),checkBuff(),"-"===inputDisplay.textContent[0]?inputDisplay.textContent=inputDisplay.textContent.substr(1):inputDisplay.textContent="-"+inputDisplay.textContent,updateBuff()},keyCLR.onclick=function(t){animateBtn(this),inputDisplay.textContent="0",updateBuff()},keyResult.onclick=function(t){animateBtn(this),2===operationBuff[0]&&"0"!==inputDisplay.textContent&&"-0"!==inputDisplay.textContent&&"0."!==inputDisplay.textContent&&"-0."!==inputDisplay.textContent&&(myOperations.push(new Operation(operationBuff[1],operationBuff[3],operationBuff[2])),operationBuff[0]=1,operationBuff[1]=0,operationBuff[2]=0,operationBuff[3]=null,inputDisplay.textContent="0",currentDiplay=myOperations.length-1,updateDisplay(myOperations.length-1))},scrollTop.onclick=function(t){null!==currentDiplay&&(currentDiplay===myOperations.length-1||updateDisplay(++currentDiplay))},scrollBottom.onclick=function(t){null!==currentDiplay&&(0===currentDiplay||updateDisplay(--currentDiplay))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYW5pbWF0ZUJ0biIsImJ0biIsInN0eWxlIiwidG9wIiwibGVmdCIsImJveFNoYWRvdyIsInNldFRpbWVvdXQiLCJPcGVyYXRpb24iLCJ0ZXJtT25lIiwib3BlcmF0b3IiLCJ0ZXJtVHdvIiwidGhpcyIsInJlc3VsdCIsImNoZWNrQnVmZiIsIm9wZXJhdGlvbkJ1ZmYiLCJ1cGRhdGVCdWZmIiwicGFyc2VGbG9hdCIsImlucHV0RGlzcGxheSIsInRleHRDb250ZW50IiwidXBkYXRlRGlzcGxheSIsImluZGV4Iiwib3BlcmF0aW9uIiwibXlPcGVyYXRpb25zIiwiZGlzcGxheVRlcm1PbmUiLCJkaXNwbGF5VGVybVR3byIsImRpc3BsYXlUZXJtUmVzdWx0Iiwia2V5IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwia2V5RGlnaXQiLCJrZXlPcGVyYXRvciIsImdldEVsZW1lbnRCeUlkIiwia2V5RG90Iiwia2V5U2lnbiIsImtleUNMUiIsImtleVJlc3VsdCIsInNjcm9sbFRvcCIsInNjcm9sbEJvdHRvbSIsImN1cnJlbnREaXBsYXkiLCJpIiwibGVuZ3RoIiwib25jbGljayIsImUiLCJwdXNoIiwiaW5kZXhPZiIsInN1YnN0ciJdLCJtYXBwaW5ncyI6IkFBc0dBLFFBQUFBLFlBQUFDLEdBQ0FBLEVBQUFDLE1BQUFDLElBQUEsTUFDQUYsRUFBQUMsTUFBQUUsS0FBQSxNQUNBSCxFQUFBQyxNQUFBRyxVQUFBLGdDQUNBQyxXQUFBLFdBQ0FMLEVBQUFDLE1BQUFDLElBQUEsTUFDQUYsRUFBQUMsTUFBQUUsS0FBQSxNQUNBSCxFQUFBQyxNQUFBRyxVQUFBLG1DQUNBLEtBR0EsUUFBQUUsV0FBQUMsRUFBQUMsRUFBQUMsR0FLQSxPQUpBQyxLQUFBSCxRQUFBQSxFQUNBRyxLQUFBRixTQUFBQSxFQUNBRSxLQUFBRCxRQUFBQSxFQUVBQyxLQUFBRixVQUNBLElBQUEsSUFDQUUsS0FBQUMsT0FBQUosRUFBQUUsQ0FD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QUFBLE9BQUFELGFBQUFDLGFBQUEsT0FBQUQsYUFBQUMsYUFBQSxRQUFBRCxhQUFBQyxjQUNBSSxhQUFBcUIsS0FBQSxHQUFBcEMsV0FBQU8sY0FBQSxHQUFBQSxjQUFBLEdBQUFBLGNBQUEsS0FDQUEsY0FBQSxHQUFBLEVBQ0FBLGNBQUEsR0FBQSxFQUNBQSxjQUFBLEdBQUEsRUFDQUEsY0FBQSxHQUFBLEtBQ0FHLGFBQUFDLFlBQUEsSUFDQW9CLGNBQUFoQixhQUFBa0IsT0FBQSxFQUNBckIsY0FBQUcsYUFBQWtCLE9BQUEsS0FJQUosVUFBQUssUUFBQSxTQUFBQyxHQUNBLE9BQUFKLGdCQUdBQSxnQkFBQWhCLGFBQUFrQixPQUFBLEdBQUFyQixnQkFBQW1CLGlCQUlBRCxhQUFBSSxRQUFBLFNBQUFDLEdBQ0EsT0FBQUosZ0JBR0EsSUFBQUEsZUFBQW5CLGdCQUFBbUIiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGtleSAgICAgICAgICAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImtleVwiKTtcbnZhciBrZXlEaWdpdCAgICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJrZXktZGlnaXRcIik7XG52YXIga2V5T3BlcmF0b3IgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwia2V5LW9wZXJhdG9yc1wiKTtcbnZhciBpbnB1dERpc3BsYXkgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXQtZGlzcGxheVwiKTtcbnZhciBrZXlEb3QgICAgICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwia2V5LWRvdFwiKTtcbnZhciBrZXlTaWduICAgICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwia2V5LXNpZ25cIik7XG52YXIga2V5Q0xSICAgICAgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImtleS1jbHJcIik7XG52YXIga2V5UmVzdWx0ICAgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImtleS1yZXN1bHRcIik7XG52YXIgZGlzcGxheVRlcm1PbmUgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRlcm0tb25lXCIpO1xudmFyIGRpc3BsYXlUZXJtVHdvICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXJtLXR3b1wiKTtcbnZhciBkaXNwbGF5VGVybVJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGVybS1yZXN1bHRcIik7XG52YXIgc2Nyb2xsVG9wICAgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjcm9sbC10b3BcIik7XG52YXIgc2Nyb2xsQm90dG9tICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjcm9sbC1ib3R0b21cIik7XG52YXIgb3BlcmF0aW9uQnVmZiAgICAgPSBbMSwgMCwgMCwgbnVsbF07IC8vIFt0ZXJtIG51bWJlcjogZmlyc3QoMSkgb3Igc2Vjb25kKDIpLCBmaXJzdCB0ZXJtIHZhbHVlLCBzZWNvbmQgdGVybSB2YWx1ZSwgc2lnbl1cbnZhciBteU9wZXJhdGlvbnMgICAgICA9IFtdO1xudmFyIGN1cnJlbnREaXBsYXkgICAgID0gbnVsbDtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlEaWdpdC5sZW5ndGg7IGkrKykge1xuICBrZXlEaWdpdFtpXS5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xuICAgIGFuaW1hdGVCdG4odGhpcyk7XG4gICAgY2hlY2tCdWZmKCk7XG4gICAgaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID09PSAnMCcgPyBpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgPSB0aGlzLnRleHRDb250ZW50IDogaW5wdXREaXNwbGF5LnRleHRDb250ZW50ICs9IHRoaXMudGV4dENvbnRlbnQ7XG4gICAgaWYgKGlucHV0RGlzcGxheS50ZXh0Q29udGVudCAhPT0gJzAnICYmIGlucHV0RGlzcGxheS50ZXh0Q29udGVudCAhPT0gJy0wJyAmJiBpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgIT09ICcwLicgJiYgaW5wdXREaXNwbGF5LnRleHRDb250ZW50ICE9PSAnLTAuJykge1xuICAgICAgdXBkYXRlQnVmZigpO1xuICAgIH1cbiAgfTtcbn1cblxuZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlPcGVyYXRvci5sZW5ndGg7IGkrKykge1xuICBrZXlPcGVyYXRvcltpXS5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xuICAgIGFuaW1hdGVCdG4odGhpcyk7XG4gICAgaWYoaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID09PSAnMCcgfHwgaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID09PSAnLTAnIHx8IGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9PT0gJzAuJyB8fCBpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgPT09ICctMC4nKSB7XG4gICAgICBvcGVyYXRpb25CdWZmWzNdID0gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZihvcGVyYXRpb25CdWZmWzBdID09PSAxKSB7XG4gICAgICAgICAgaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID0gJzAnO1xuICAgICAgICAgIG9wZXJhdGlvbkJ1ZmZbM10gICAgICAgICA9IHRoaXMudGV4dENvbnRlbnQ7XG4gICAgICAgICAgb3BlcmF0aW9uQnVmZlswXSAgICAgICAgID0gMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG15T3BlcmF0aW9ucy5wdXNoKG5ldyBPcGVyYXRpb24ob3BlcmF0aW9uQnVmZlsxXSwgb3BlcmF0aW9uQnVmZlszXSwgb3BlcmF0aW9uQnVmZlsyXSkpO1xuICAgICAgICAgICAgaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID0gJzAnO1xuICAgICAgICAgICAgb3BlcmF0aW9uQnVmZlsxXSAgICAgICAgID0gbXlPcGVyYXRpb25zW215T3BlcmF0aW9ucy5sZW5ndGggLSAxXS5yZXN1bHQ7XG4gICAgICAgICAgICBvcGVyYXRpb25CdWZmWzJdICAgICAgICAgPSAwO1xuICAgICAgICAgICAgb3BlcmF0aW9uQnVmZlszXSAgICAgICAgID0gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIHVwZGF0ZURpc3BsYXkobXlPcGVyYXRpb25zLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY3VycmVudERpcGxheSA9IG15T3BlcmF0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5rZXlEb3Qub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgYW5pbWF0ZUJ0bih0aGlzKTtcbiAgY2hlY2tCdWZmKCk7XG4gIGlucHV0RGlzcGxheS50ZXh0Q29udGVudC5pbmRleE9mKCcuJykgPT09IC0xID8gaW5wdXREaXNwbGF5LnRleHRDb250ZW50ICs9IHRoaXMudGV4dENvbnRlbnQgOiAnJztcbiAgdXBkYXRlQnVmZigpO1xufTtcblxua2V5U2lnbi5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xuICBhbmltYXRlQnRuKHRoaXMpO1xuICBjaGVja0J1ZmYoKTtcbiAgaW5wdXREaXNwbGF5LnRleHRDb250ZW50WzBdID09PSAnLScgPyBpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgPSBpbnB1dERpc3BsYXkudGV4dENvbnRlbnQuc3Vic3RyKDEpIDogaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID0gJy0nICsgaW5wdXREaXNwbGF5LnRleHRDb250ZW50O1xuICB1cGRhdGVCdWZmKCk7XG59O1xuXG5rZXlDTFIub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgYW5pbWF0ZUJ0bih0aGlzKTtcbiAgaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID0gJzAnO1xuICB1cGRhdGVCdWZmKCk7XG59OyAvLyBUT0RPOiByZXNldCBidWZmXG5cbmtleVJlc3VsdC5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xuICBhbmltYXRlQnRuKHRoaXMpO1xuICBpZihvcGVyYXRpb25CdWZmWzBdID09PSAyICYmICEoaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID09PSAnMCcgfHwgaW5wdXREaXNwbGF5LnRleHRDb250ZW50ID09PSAnLTAnIHx8IGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9PT0gJzAuJyB8fCBpbnB1dERpc3BsYXkudGV4dENvbnRlbnQgPT09ICctMC4nKSkge1xuICAgIG15T3BlcmF0aW9ucy5wdXNoKG5ldyBPcGVyYXRpb24ob3BlcmF0aW9uQnVmZlsxXSwgb3BlcmF0aW9uQnVmZlszXSwgb3BlcmF0aW9uQnVmZlsyXSkpO1xuICAgIG9wZXJhdGlvbkJ1ZmZbMF0gPSAxO1xuICAgIG9wZXJhdGlvbkJ1ZmZbMV0gPSAwO1xuICAgIG9wZXJhdGlvbkJ1ZmZbMl0gPSAwO1xuICAgIG9wZXJhdGlvbkJ1ZmZbM10gPSBudWxsO1xuICAgIGlucHV0RGlzcGxheS50ZXh0Q29udGVudCA9ICcwJztcbiAgICBjdXJyZW50RGlwbGF5ID0gbXlPcGVyYXRpb25zLmxlbmd0aCAtIDE7XG4gICAgdXBkYXRlRGlzcGxheShteU9wZXJhdGlvbnMubGVuZ3RoIC0gMSk7XG4gIH1cbn07XG5cbnNjcm9sbFRvcC5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xuICBpZiAoY3VycmVudERpcGxheSA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfSBlbHNlIHtcbiAgICBjdXJyZW50RGlwbGF5ID09PSBteU9wZXJhdGlvbnMubGVuZ3RoIC0gMSA/ICcnIDogdXBkYXRlRGlzcGxheSgrK2N1cnJlbnREaXBsYXkpO1xuICB9XG59O1xuXG5zY3JvbGxCb3R0b20ub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGN1cnJlbnREaXBsYXkgPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudERpcGxheSA9PT0gMCA/ICcnIDogdXBkYXRlRGlzcGxheSgtLWN1cnJlbnREaXBsYXkpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBhbmltYXRlQnRuKGJ0bikge1xuICBidG4uc3R5bGUudG9wICAgICAgID0gXCI3cHhcIjtcbiAgYnRuLnN0eWxlLmxlZnQgICAgICA9IFwiN3B4XCI7XG4gIGJ0bi5zdHlsZS5ib3hTaGFkb3cgPSBcIjNweCAzcHggMHB4IDBweCByZ2JhKDAsMCwwLDEpXCI7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgYnRuLnN0eWxlLnRvcCAgICAgICA9IFwiMHB4XCI7XG4gICAgYnRuLnN0eWxlLmxlZnQgICAgICA9IFwiMHB4XCI7XG4gICAgYnRuLnN0eWxlLmJveFNoYWRvdyA9IFwiMTBweCAxMHB4IDBweCAwcHggcmdiYSgwLDAsMCwxKVwiO1xuICB9LCAxMDApO1xufVxuXG5mdW5jdGlvbiBPcGVyYXRpb24odGVybU9uZSwgb3BlcmF0b3IsIHRlcm1Ud28pIHtcbiAgdGhpcy50ZXJtT25lICA9IHRlcm1PbmU7XG4gIHRoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgdGhpcy50ZXJtVHdvICA9IHRlcm1Ud287XG5cbiAgc3dpdGNoKHRoaXMub3BlcmF0b3IpIHtcbiAgICBjYXNlICcrJzpcbiAgICAgIHRoaXMucmVzdWx0ID0gdGVybU9uZSArIHRlcm1Ud287XG4gICAgICBicmVhaztcbiAgICBjYXNlICctJzpcbiAgICAgIHRoaXMucmVzdWx0ID0gdGVybU9uZSAtIHRlcm1Ud287XG4gICAgICBicmVhaztcbiAgICBjYXNlICcqJzpcbiAgICAgIHRoaXMucmVzdWx0ID0gdGVybU9uZSAqIHRlcm1Ud287XG4gICAgICBicmVhaztcbiAgICBjYXNlICfDtyc6XG4gICAgICB0aGlzLnJlc3VsdCA9IHRlcm1PbmUgLyB0ZXJtVHdvO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tCdWZmKCkge1xuICBpZiAob3BlcmF0aW9uQnVmZlszXSAhPT0gbnVsbCkge1xuICAgIG9wZXJhdGlvbkJ1ZmZbMF0gPSAyO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUJ1ZmYoKXtcbiAgb3BlcmF0aW9uQnVmZlswXSA9PT0gMSA/IG9wZXJhdGlvbkJ1ZmZbMV0gPSBwYXJzZUZsb2F0KGlucHV0RGlzcGxheS50ZXh0Q29udGVudCkgOiBvcGVyYXRpb25CdWZmWzJdID0gcGFyc2VGbG9hdChpbnB1dERpc3BsYXkudGV4dENvbnRlbnQpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVEaXNwbGF5KGluZGV4KSB7XG4gIHZhciBvcGVyYXRpb24gPSBteU9wZXJhdGlvbnNbaW5kZXhdO1xuICBkaXNwbGF5VGVybU9uZS50ZXh0Q29udGVudCA9IG9wZXJhdGlvbi50ZXJtT25lICsgXCIgXCIgKyBvcGVyYXRpb24ub3BlcmF0b3I7XG4gIGRpc3BsYXlUZXJtVHdvLnRleHRDb250ZW50ID0gb3BlcmF0aW9uLnRlcm1Ud28gKyBcIiA9XCI7XG4gIGRpc3BsYXlUZXJtUmVzdWx0LnRleHRDb250ZW50ID0gb3BlcmF0aW9uLnJlc3VsdDtcbn1cbiJdfQ==
